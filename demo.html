<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>語音轉文字範例</title>
</head>
<body>
  <button id="startButton">開始語音輸入</button>
  <div id="result"></div>

  <script>
    const startButton = document.getElementById('startButton');
    const resultDiv = document.getElementById('result');
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();

    recognition.lang = 'zh-TW';
    recognition.continuous = false;
    recognition.interimResults = false;
    recognition.maxAlternatives = 1;

    recognition.onresult = (event) => {
      const transcript = event.results[0][0].transcript;
      resultDiv.textContent = '您說的是：' + transcript;
    };

    recognition.onerror = (event) => {
      resultDiv.textContent = '錯誤：' + event.error;
    };

    recognition.onnomatch = (event) => {
      resultDiv.textContent = "未偵測到語音";
    }

    recognition.onspeechend = () => {
      recognition.stop();
    }

    startButton.addEventListener('click', () => {
      recognition.start();
      resultDiv.textContent = '請開始說話...';
    });
  </script>
</body>
</html>
