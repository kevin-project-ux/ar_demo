<!DOCTYPE html>
<html>
  <head>
    <title>AR.js NFT A/B Example</title>
<!--     <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar-nft.min.js"></script> -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/3.3.2/aframe/build/aframe-ar.min.js"></script>
  </head>
  </head>
  <body style="margin:0;overflow:hidden;">
    <a-scene embedded arjs="sourceType: webcam;">
      <a-marker type="pattern" id="my-marker" url="./pattern-B.patt">
        <a-text value="hello world" position="0 1 0" color="black"></a-text>
        <a-plane position="0 0.5 0" width="2" height="1" color="blue" visible="true">
          <a-text value="測試按鈕" color="white" align="center" position="0 0 0.01"></a-text>
        </a-plane>
      </a-marker>

      <a-entity camera>
        <a-entity cursor="fuse: false" raycaster="objects: .clickable" position="0 0 -1"></a-entity>
      </a-entity>
    </a-scene>
<!--     <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
      <a-marker type='pattern' id="my-marker" url='./pattern-B.patt'>
        <a-sphere color="blue" radius="0.5" position="0 0.5 0"></a-sphere>
        <a-text
          value="hello world"
          position="0 1 0"
          align="center"
          color="black"
        ></a-text>
        <a-plane
          position="0 0.5 0"
          width="2"
          height="1"
          color="blue"
          visible="true"
        >
          <a-text value="測試按鈕" color="black" align="center" position="0 0 0.01"></a-text>
        </a-plane>
      </a-marker>
      <a-entity camera>
        <a-entity cursor="fuse: false" raycaster="objects: .clickable" position="0 0 -1"></a-entity>
      </a-entity>
    </a-scene> -->
    <script>
      // window.addEventListener("DOMContentLoaded", () => {
      //   const marker = document.querySelector("#my-marker");
      //   const text = document.querySelector("#markerText");
      //   let clickBound = false;

      //   marker.addEventListener("markerFound", () => {
      //     console.log("marker found");

      //     // 顯示按鈕
      //     marker.querySelectorAll(".marker-button").forEach((btn) => {
      //       btn.setAttribute("visible", true);
      //     });

      //     // 顯示 marker 對應文字
      //     const url = marker.getAttribute("url");
      //     const match = url.match(/pattern-(.+)\.patt$/);
      //     const letter = match ? match[1] : "?";
      //     text.setAttribute("value", letter);

      //     // 點擊事件（只綁一次）
      //     if (!clickBound) {
      //       marker.querySelectorAll(".marker-button").forEach((el) => {
      //         el.addEventListener("click", () => {
      //           const btnLabel = el.querySelector("a-text").getAttribute("value");
      //           alert("你按了按鈕：" + btnLabel);
      //         });
      //       });
      //       clickBound = true;
      //     }
      //   });

      //   marker.addEventListener("markerLost", () => {
      //     console.log("marker lost");
      //     marker.querySelectorAll(".marker-button").forEach((btn) => {
      //       btn.setAttribute("visible", false);
      //     });
      //     text.setAttribute("value", "");
      //   });
      // });
    </script>
  </body>
</html>
